{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\nimport SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nconst lightbox = new SimpleLightbox('.gallery-item', {\r\n  captionsData: 'alt',\r\n  captionDelay: 250,\r\n});\r\n\r\nconst form = document.getElementById('search-form');\r\nconst gallery = document.getElementById('gallery');\r\nconst spinner = document.getElementById('loading-spinner');\r\n\r\nform.addEventListener('submit', async (event) => {\r\n  event.preventDefault();\r\n  \r\n  const query = document.getElementById('search-input').value.trim();\r\n  \r\n  if (!query) {\r\n    iziToast.warning({\r\n      title: 'Uyarı',\r\n      message: 'Lütfen bir arama terimi girin!',\r\n    });\r\n    return;\r\n  }\r\n\r\n  try {\r\n    // Spinner'ı göster\r\n    spinner.style.display = 'block';\r\n\r\n    const response = await fetch(`https://pixabay.com/api/?key=46164011-db8308970fd829f53e85acb75&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`);\r\n    const data = await response.json();\r\n      \r\n    // Burada görselleri yüklemeden önce 2 saniye bekle\r\n    await new Promise(resolve => setTimeout(resolve, 2000));\r\n\r\n    if (data.hits.length === 0) {\r\n      iziToast.error({\r\n        title: 'Hata',\r\n        message: 'Görsel bulunamadı. Lütfen tekrar deneyin!',\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Eski sonuçları temizle\r\n    gallery.innerHTML = '';\r\n\r\n    // Yeni görselleri ekle ve her görsel için bilgileri göster\r\n    data.hits.forEach(image => {\r\n      const imgElement = document.createElement('a');\r\n      imgElement.href = image.largeImageURL;\r\n      imgElement.classList.add('gallery-item');\r\n      imgElement.innerHTML = `\r\n      <li id=\"gallery-items\">\r\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\r\n      </li>\r\n        <div class=\"gallery-items-info\">\r\n          <p class=\"gallery-items-info-alt\"><strong>Likes  </strong>${image.likes} </p>\r\n          <p class=\"gallery-items-info-alt\"><strong>Comments </strong> ${image.comments} </p>\r\n          <p class=\"gallery-items-info-alt\"><strong>Views</strong>  ${image.views} </p>\r\n          <p class=\"gallery-items-info-alt\"><strong>Downloads </strong> ${image.downloads} </p>\r\n      `;\r\n      gallery.appendChild(imgElement);\r\n    });\r\n\r\n    // SimpleLightbox'u güncelle\r\n    lightbox.refresh();\r\n    \r\n  } catch (error) {\r\n    // Hata durumunda spinner'ı kapat\r\n    spinner.style.display = 'none';\r\n\r\n    iziToast.error({\r\n      title: 'Hata',\r\n      message: 'Bir sorun oluştu. Lütfen tekrar deneyin!',\r\n    });\r\n    console.error('Bir hata oluştu:', error);\r\n  } finally {\r\n    // Spinner'ı kapat\r\n    spinner.style.display = 'none';\r\n  }\r\n});\r\n"],"names":["lightbox","SimpleLightbox","form","gallery","spinner","event","query","iziToast","data","resolve","image","imgElement","error"],"mappings":"wvBAKA,MAAMA,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAU,SAAS,eAAe,iBAAiB,EAEzDF,EAAK,iBAAiB,SAAU,MAAOG,GAAU,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAQ,SAAS,eAAe,cAAc,EAAE,MAAM,OAE5D,GAAI,CAACA,EAAO,CACVC,EAAS,QAAQ,CACf,MAAO,QACP,QAAS,gCACf,CAAK,EACD,MACD,CAED,GAAI,CAEFH,EAAQ,MAAM,QAAU,QAGxB,MAAMI,EAAO,MADI,MAAM,MAAM,qEAAqEF,CAAK,0DAA0D,GACrI,OAK5B,GAFA,MAAM,IAAI,QAAQG,GAAW,WAAWA,EAAS,GAAI,CAAC,EAElDD,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,OACP,QAAS,2CACjB,CAAO,EACD,MACD,CAGDJ,EAAQ,UAAY,GAGpBK,EAAK,KAAK,QAAQE,GAAS,CACzB,MAAMC,EAAa,SAAS,cAAc,GAAG,EAC7CA,EAAW,KAAOD,EAAM,cACxBC,EAAW,UAAU,IAAI,cAAc,EACvCA,EAAW,UAAY;AAAA;AAAA,oBAETD,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,sEAGYA,EAAM,KAAK;AAAA,yEACRA,EAAM,QAAQ;AAAA,sEACjBA,EAAM,KAAK;AAAA,0EACPA,EAAM,SAAS;AAAA,QAEnFP,EAAQ,YAAYQ,CAAU,CACpC,CAAK,EAGDX,EAAS,QAAO,CAEjB,OAAQY,EAAO,CAEdR,EAAQ,MAAM,QAAU,OAExBG,EAAS,MAAM,CACb,MAAO,OACP,QAAS,0CACf,CAAK,EACD,QAAQ,MAAM,mBAAoBK,CAAK,CAC3C,QAAY,CAERR,EAAQ,MAAM,QAAU,MACzB,CACH,CAAC"}